{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///fairybread.min.js","webpack:///webpack/bootstrap ae38553398260b3ea8ac","webpack:///./src/fairybread.ts"],"names":["root","factory","exports","module","define","amd","self","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Fairybread","options","makeId","text","possible","Array","apply","map","data","key","charAt","Math","floor","random","length","sheetType","global","ensureList","id","scopeClass","createSheet","styleNode","document","createElement","type","bindSheet","node","location","appendChild","cssToJs","css","rules","split","ruleSet","keyValue","trim","toString","sheet","specialSheet","specialId","rendered","index","specialIndex","extend","selector","add","undefined","js","console","error","render","renderFlat","echoSheet","rulesRef","sheetRules","replace","result","thisSheet","keys","flatSheet","innerHTML","tag","addSpecial","rule","body","getElementById","free","v","_i","arguments","join","flat","str","ensure","path","sheetId","exist","slice","querySelectorAll","indexOf","temp_id","ensured","window"],"mappings":"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","file":"fairybread.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"fairybread\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fairybread\"] = factory();\n\telse\n\t\troot[\"fairybread\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"fairybread\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fairybread\"] = factory();\n\telse\n\t\troot[\"fairybread\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nfunction Fairybread(options) {\r\n    this.sheetType = options.global ? 'global' : 'local';\r\n    this.ensureList = {};\r\n    // Create Id\r\n    function makeId() {\r\n        var text = 'fairybread_';\r\n        var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n        var array = Array.apply(null, Array(20));\r\n        array.map(function (data, key) {\r\n            text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n        });\r\n        return text;\r\n    }\r\n    // Uniquish Id\r\n    this.id = makeId();\r\n    this.scopeClass = options.global !== true ? '.' + this.id : '';\r\n    // Create Sheetsheet\r\n    this.createSheet = function (id) {\r\n        var styleNode = document.createElement('style');\r\n        styleNode.type = 'text/css';\r\n        styleNode.id = id;\r\n        // Required for sheet attr to be created\r\n        return styleNode;\r\n    };\r\n    this.bindSheet = function (node, location) {\r\n        document[location].appendChild(node);\r\n    };\r\n    // Create Js Object from Css text\r\n    this.cssToJs = function (css) {\r\n        var rules = css.split(';');\r\n        var ruleSet = {};\r\n        rules.map(function (data, key) {\r\n            var keyValue = data.split(':');\r\n            if (keyValue.length === 2) {\r\n                ruleSet[keyValue[0].trim().toString()] = keyValue[1].trim();\r\n            }\r\n        });\r\n        return ruleSet;\r\n    };\r\n    this.sheet = this.createSheet(this.id);\r\n    this.specialSheet = false;\r\n    this.specialId = makeId() + '_special';\r\n    this.rendered = false;\r\n    this.rules = {};\r\n    this.index = 0;\r\n    this.specialIndex = 0;\r\n}\r\n// Extend any rule to use in another css object\r\nFairybread.prototype.extend = function (selector) {\r\n    return this.rules[selector];\r\n};\r\nFairybread.prototype.add = function (selector, rules) {\r\n    if (this.rules[selector.toString()] === undefined) {\r\n        this.rules[selector.toString()] = {\r\n            js: this.cssToJs(rules),\r\n            css: rules\r\n        };\r\n    }\r\n    else {\r\n        console.error(selector + ' is ready in this style sheet');\r\n    }\r\n};\r\nFairybread.prototype.render = function (location) {\r\n    var result;\r\n    var sheetRules = this.rules;\r\n    var thisSheet = this.sheet;\r\n    var bindSheet = this.bindSheet;\r\n    var scopeClass = this.scopeClass;\r\n    var rulesRef = Object.keys(sheetRules);\r\n    // Generate a plain text style sheet\r\n    function renderFlat() {\r\n        var echoSheet = '';\r\n        rulesRef.map(function (key) {\r\n            echoSheet += scopeClass + ' ' + key + '{' + sheetRules[key].css + '}';\r\n        });\r\n        echoSheet = echoSheet.replace(/(\\r\\n|\\n|\\r)/gm, '').trim();\r\n        return echoSheet;\r\n    }\r\n    switch (location) {\r\n        case 'raw':\r\n            var flatSheet = renderFlat();\r\n            this.sheet.innerHTML = flatSheet;\r\n            result = {\r\n                js: sheetRules,\r\n                css: flatSheet\r\n            };\r\n            break;\r\n        case 'here':\r\n            thisSheet.innerHTML = renderFlat();\r\n            result = {\r\n                tag: this.sheet,\r\n                id: this.id\r\n            };\r\n            break;\r\n        case 'body':\r\n            bindSheet(thisSheet, 'body');\r\n            thisSheet.innerHTML = renderFlat();\r\n            result = this.id;\r\n            break;\r\n        case 'head':\r\n        default:\r\n            bindSheet(thisSheet, 'head');\r\n            thisSheet.innerHTML = renderFlat();\r\n            result = this.id;\r\n            break;\r\n    }\r\n    this.rendered = true;\r\n    return result;\r\n};\r\nFairybread.prototype.addSpecial = function (rule) {\r\n    var id = this.specialId;\r\n    if (this.specialSheet === false) {\r\n        var styleNode = document.createElement('style');\r\n        styleNode.type = 'text/css';\r\n        styleNode.id = id;\r\n        document.body.appendChild(styleNode);\r\n        this.specialSheet = document.getElementById(id); // FIXME\r\n        this.specialSheet.innerHTML = rule;\r\n    }\r\n    else {\r\n        this.specialSheet.innerHTML += '\\n' + rule;\r\n    }\r\n};\r\nFairybread.prototype.free = function (css) {\r\n    var v = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        v[_i - 1] = arguments[_i];\r\n    }\r\n    var s = css.split(':host').join(this.scopeClass);\r\n    var flat = s.map((function (str, i) { return str + (v[i] || ''); })).join('');\r\n    this.sheet.innerHTML = flat;\r\n    return {\r\n        tag: this.sheet,\r\n        id: this.id\r\n    };\r\n};\r\nFairybread.prototype.ensure = function (key, path) {\r\n    // Check if this sheet has already ensured it\r\n    var sheetId = this.id;\r\n    var ensureList = this.ensureList;\r\n    if (ensureList[key] !== true) {\r\n        // It hasn't ok, is it on the page anywhere.\r\n        var exist = false;\r\n        var allFbs = [].slice.call(document.querySelectorAll('style[id*=fairybread_]'));\r\n        allFbs.map(function (node, i) {\r\n            if (node.id.indexOf(key) > -1) {\r\n                exist = true;\r\n            }\r\n        });\r\n        if (exist === false) {\r\n            var temp_id = sheetId + '_' + key;\r\n            var ensured = this.createSheet(temp_id);\r\n            ensured.innerHTML = '@import url(\"' + path + '\")';\r\n            this.bindSheet(ensured, 'head');\r\n            ensureList[key] = true;\r\n        }\r\n    }\r\n};\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = Fairybread;\r\n}\r\nelse {\r\n    window['Fairybread'] = Fairybread;\r\n}\r\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// fairybread.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ae38553398260b3ea8ac","function Fairybread(options) {\n\n\tthis.sheetType = options.global ? 'global' : 'local';\n\tthis.ensureList = {};\n  // Create Id\n\tfunction makeId() {\n\t\tvar text = 'fairybread_';\n\t\tvar possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\t\tvar array = Array.apply(null, Array(20));\n\t\tarray.map((data, key) => {\n\t\t\ttext += possible.charAt(Math.floor(Math.random() * possible.length));\n\t\t});\n\t\treturn text;\n\t}\n\n  // Uniquish Id\n\tthis.id = makeId();\n\tthis.scopeClass = options.global !== true ? '.' + this.id : '';\n  // Create Sheetsheet\n\tthis.createSheet = function (id) {\n\t\tvar styleNode = document.createElement('style');\n\t\tstyleNode.type = 'text/css';\n\t\tstyleNode.id = id;\n    // Required for sheet attr to be created\n\t\treturn styleNode;\n\t};\n\tthis.bindSheet = function (node, location) {\n\t\tdocument[location].appendChild(node);\n\t};\n  // Create Js Object from Css text\n\tthis.cssToJs = function (css) {\n\t\tvar rules = css.split(';');\n\t\tvar ruleSet = {};\n\t\trules.map((data, key) => {\n\t\t\tvar keyValue = data.split(':');\n\t\t\tif (keyValue.length === 2) {\n\t\t\t\truleSet[keyValue[0].trim().toString()] = keyValue[1].trim();\n\t\t\t}\n\t\t});\n\t\treturn ruleSet;\n\t};\n\n\tthis.sheet = this.createSheet(this.id);\n\tthis.specialSheet = false;\n\tthis.specialId = makeId() + '_special';\n\tthis.rendered = false;\n\tthis.rules = {};\n\tthis.index = 0;\n\tthis.specialIndex = 0;\n}\n\n// Extend any rule to use in another css object\nFairybread.prototype.extend = function (selector) {\n\treturn this.rules[selector];\n};\n\nFairybread.prototype.add = function (selector, rules) {\n\tif (this.rules[selector.toString()] === undefined) {\n\t\tthis.rules[selector.toString()] = {\n\t\t\tjs: this.cssToJs(rules),\n\t\t\tcss: rules\n\n\t\t};\n\t} else {\n\t\tconsole.error(selector + ' is ready in this style sheet');\n\t}\n};\nFairybread.prototype.render = function (location) {\n\tvar result;\n\tvar sheetRules = this.rules;\n\tvar thisSheet = this.sheet;\n\tvar bindSheet = this.bindSheet;\n\tvar scopeClass = this.scopeClass;\n\tvar rulesRef = Object.keys(sheetRules);\n    // Generate a plain text style sheet\n\tfunction renderFlat() {\n\t\tvar echoSheet = '';\n\t\trulesRef.map(key => {\n\t\t\techoSheet += scopeClass + ' ' + key + '{' + sheetRules[key].css + '}';\n\t\t});\n\t\techoSheet = echoSheet.replace(/(\\r\\n|\\n|\\r)/gm, '').trim();\n\t\treturn echoSheet;\n\t}\n\n\tswitch (location) {\n\t\tcase 'raw':\n\t\t\tvar flatSheet = renderFlat();\n\t\t\tthis.sheet.innerHTML = flatSheet;\n\t\t\tresult = {\n\t\t\t\tjs: sheetRules,\n\t\t\t\tcss: flatSheet\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'here':\n\t\t\tthisSheet.innerHTML = renderFlat();\n\t\t\tresult = {\n\t\t\t\ttag: this.sheet,\n\t\t\t\tid: this.id\n\t\t\t};\n\t\t\tbreak;\n\n\t\tcase 'body':\n\t\t\tbindSheet(thisSheet, 'body');\n\t\t\tthisSheet.innerHTML = renderFlat();\n\t\t\tresult = this.id;\n\t\t\tbreak;\n\t\tcase 'head':\n\t\tdefault:\n\t\t\tbindSheet(thisSheet, 'head');\n\t\t\tthisSheet.innerHTML = renderFlat();\n\t\t\tresult = this.id;\n\t\t\tbreak;\n\t}\n\tthis.rendered = true;\n\treturn result;\n};\n\nFairybread.prototype.addSpecial = function (rule) {\n\tvar id = this.specialId;\n\tif (this.specialSheet === false) {\n\t\tvar styleNode = document.createElement('style');\n\t\tstyleNode.type = 'text/css';\n\t\tstyleNode.id = id;\n\t\tdocument.body.appendChild(styleNode);\n\t\tthis.specialSheet = document.getElementById(id);  // FIXME\n\t\tthis.specialSheet.innerHTML = rule;\n\t} else {\n\t\tthis.specialSheet.innerHTML += '\\n' + rule;\n\t}\n};\n\nFairybread.prototype.free = function (css, ...v){\n\tvar s = css.split(':host').join(this.scopeClass);\n\tvar flat = s.map(((str,i) => str + (v[i] || ''))).join('');\n\tthis.sheet.innerHTML = flat;\n\treturn {\n\t\ttag: this.sheet,\n\t\tid: this.id\n\t}\n}\n\nFairybread.prototype.ensure = function (key, path) {\n    // Check if this sheet has already ensured it\n\tvar sheetId = this.id;\n\tvar ensureList = this.ensureList;\n\tif (ensureList[key] !== true) {\n        // It hasn't ok, is it on the page anywhere.\n\t\tvar exist = false;\n\t\tvar allFbs = [].slice.call(document.querySelectorAll('style[id*=fairybread_]'));\n\t\tallFbs.map((node, i) => {\n\t\t\tif (node.id.indexOf(key) > -1) {\n\t\t\t\texist = true;\n\t\t\t}\n\t\t});\n\t\tif (exist === false) {\n\t\t\tvar temp_id = sheetId + '_' + key;\n\t\t\tvar ensured = this.createSheet(temp_id);\n\t\t\tensured.innerHTML = '@import url(\"' + path + '\")';\n\t\t\tthis.bindSheet(ensured, 'head');\n\t\t\tensureList[key] = true;\n\t\t}\n\t}\n};\n\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n\tmodule.exports = Fairybread;\n} else {\n\twindow['Fairybread'] = Fairybread;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fairybread.ts"],"sourceRoot":""}